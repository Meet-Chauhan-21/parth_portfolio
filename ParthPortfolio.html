<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parth Umraliya | Product Management Portfolio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Chart.js for visualizations in Case Studies -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: '#030305',
                        primary: '#00F0FF', // Neon Cyan
                        secondary: '#7000FF', // Deep Purple
                        glass: 'rgba(255, 255, 255, 0.03)',
                        glassBorder: 'rgba(255, 255, 255, 0.08)',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    animation: {
                        'spin-slow': 'spin 30s linear infinite',
                        'marquee': 'marquee 25s linear infinite',
                        'dash': 'dash 20s linear infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        dash: {
                            to: {
                                strokeDashoffset: '1000',
                            },
                        },
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&family=Space+Grotesk:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            background-color: #030305;
            color: #EDEDED;
            overflow-x: hidden;
            font-family: 'Inter', sans-serif;
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #030305;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #00F0FF;
        }

        /* Liquid Glass Utility */
        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        /* --- Hero Planet Animation --- */
        .planet-container {
            perspective: 1000px;
            transform-style: preserve-3d;
        }
        .planet {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            /* Base border, color overridden by animation */
            border: 1px solid rgba(0, 240, 255, 0.3); 
            position: relative;
            transform-style: preserve-3d;
            animation: rotatePlanet 30s linear infinite, colorPulse 8s infinite alternate;
            box-shadow: 0 0 60px rgba(0, 240, 255, 0.1);
        }
        
        /* Mobile adjustment for planet */
        @media (max-width: 768px) {
            .planet {
                width: 300px;
                height: 300px;
            }
            .ring {
                width: 350px !important;
                height: 350px !important;
            }
        }

        .planet::before, .planet::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 50%;
            border: 1px solid rgba(0, 240, 255, 0.3);
            transform: rotateX(60deg);
            animation: colorPulse 8s infinite alternate-reverse; /* Out of sync pulse */
        }
        .planet::after {
            transform: rotateY(60deg);
            border-color: rgba(0, 240, 255, 0.3);
        }
        .ring {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 1px dashed rgba(255, 255, 255, 0.15);
        }

        @keyframes rotatePlanet {
            0% { transform: rotateY(0deg) rotateX(20deg); }
            100% { transform: rotateY(360deg) rotateX(20deg); }
        }

        @keyframes colorPulse {
            0% { border-color: rgba(0, 240, 255, 0.2); box-shadow: 0 0 20px rgba(0, 240, 255, 0.1); }
            50% { border-color: rgba(255, 255, 255, 0.5); box-shadow: 0 0 40px rgba(255, 255, 255, 0.2); }
            100% { border-color: #00F0FF; box-shadow: 0 0 60px rgba(0, 240, 255, 0.3); }
        }

        /* Stars Background */
        .stars {
            background-image: 
                radial-gradient(1px 1px at 20px 30px, #fff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 40px 70px, #fff, rgba(0,0,0,0)),
                radial-gradient(1px 1px at 50px 160px, #fff, rgba(0,0,0,0)),
                radial-gradient(1.5px 1.5px at 90px 40px, #00F0FF, rgba(0,0,0,0));
            background-size: 200px 200px;
            opacity: 0.5;
        }

        /* --- Unified Moving Gradient Border Animation --- */
        .animated-border-card {
            position: relative;
            background: #030305;
            border-radius: 1rem;
            z-index: 1;
            overflow: hidden;
            padding: 2px; /* Uniform Padding for Border Visibility */
        }

        .animated-border-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                transparent 90deg,
                #00F0FF 180deg, 
                #7000FF 270deg, 
                transparent 360deg
            );
            animation: borderRotate 4s linear infinite;
            z-index: -1;
            opacity: 0; /* Hidden by default */
            transition: opacity 0.3s ease;
        }

        .animated-border-card:hover::before {
            opacity: 1; /* Show on hover */
        }

        /* NEW CLASS: Always animate, no hover needed */
        .border-animate-always::before {
            opacity: 1 !important;
        }

        .animated-border-inner {
            background: #0A0A0C;
            border-radius: 0.9rem;
            height: 100%;
            width: 100%;
            position: relative;
            z-index: 2;
        }

        /* Pill Shape Overrides */
        .animated-border-pill {
            border-radius: 9999px;
        }
        .animated-border-pill .animated-border-inner {
            border-radius: 9999px;
        }

        @keyframes borderRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, useScroll, useTransform, AnimatePresence } = window.Motion;

        // --- Data Layer ---

        const HERO_CARDS = [
            { 
                title: "Discovery", 
                icon: "search", 
                desc: "Conducting user interviews, analyzing market trends, and digging into data to uncover the 'Why' behind customer problems.",
                keywords: ["User Research", "Market Trends", "Data Analysis"] 
            },
            { 
                title: "Strategy", 
                icon: "compass", 
                desc: "Defining the product vision, prioritizing features using RICE/MoSCoW, and building roadmaps that align with business OKRs.",
                keywords: ["Product Vision", "RICE Framework", "Roadmapping"] 
            },
            { 
                title: "Execution", 
                icon: "zap", 
                desc: "Leading agile sprints, writing clear PRDs, managing backlogs, and collaborating with engineering to ship high-quality MVPs.",
                keywords: ["Agile / Scrum", "PRD Writing", "Sprint Planning"] 
            },
            { 
                title: "Growth", 
                icon: "trending-up", 
                desc: "Analyzing post-launch metrics, running A/B tests to optimize conversion funnels, and driving retention through iterative improvements.",
                keywords: ["A/B Testing", "Conversion Funnel", "Retention"] 
            }
        ];

        const CASE_STUDIES_DATA = [
            {
                id: "uber-reserve",
                title: "Uber Reserve Adoption: A JTBD Approach",
                company: "Uber",
                framework: "JTBD & Behavioral Psychology",
                summary: "Bridging the gap between spontaneous demand and planned reliability for Tier-1 professionals.",
                thumbnail: "images/company-logos/Uber Reserve JTBD Parth-Umraliya.pdf.png",
                tags: ["Ride-Hailing", "Growth", "UX Strategy"],
                role: "Lead Product Manager",
                timeline: "2 Months (Analysis)",
                tools: "Figma, Jobs-to-be-Done, Data Analytics",
                heroStat: "Projected 15% Lift in Reserve",
                fullCaseStudyUrl: "https://drive.google.com/file/d/1N1FgNRbzG3PCjSfhRwqXEyOsA9G2GBvB/view?usp=sharing",
                content: {
                    problem: {
                        statement: "Why are users not adopting Uber Reserve despite its obvious convenience?",
                        context: "Tier-1 urban professionals value predictability for airport runs and meetings, yet adoption remains low. The core friction isn't functionality—it's perceived reliability and a mental model mismatch where 'Uber = On-Demand'.",
                        visual: "chart-churn" 
                    },
                    research: [
                        { label: "Reliability > Cost", value: "High", desc: "Users willing to pay premium for 100% guarantee." },
                        { label: "Anxiety Gap", value: "Critial", desc: "Users double-check app despite booking. Trust deficit." },
                        { label: "Mental Model", value: "Gap", desc: "Users see Uber as 'Instant', not 'Planner'." }
                    ],
                    extendedContent: {
                        jtbd: [
                            { type: "Functional", desc: "Ensure I reach my destination on time without last-minute cancellation anxiety." },
                            { type: "Emotional", desc: "Feel confident and 'in control' of my morning schedule (airport/meetings)." },
                            { type: "Social", desc: "Appear punctual and reliable in professional settings." }
                        ],
                        journey: [
                            { stage: "Define", action: "Need airport ride at 7 AM", pain: "Will driver accept at 6 AM?", solution: "Guaranteed Arrival + Driver Preview" },
                            { stage: "Prepare", action: "Book & Wait", pain: "Regular vs Reserve confusion", solution: "Pre-ride Assurance Notification" },
                            { stage: "Confirm", action: "Get Confirmation", pain: "Anxiety: 'Will they show?'", solution: "Show 'Driver Assigned' status early" }
                        ]
                    },
                    solution: {
                        strategy: "Reframe from 'Book Early' to 'Relax, We've Got It'. Focus on emotional reassurance.",
                        features: [
                            { name: "Pre-Assignment", desc: "Assign driver 2-3 hours early to kill anxiety." },
                            { name: "Confidence Score", desc: "Show '98% On-Time' metric during booking." },
                            { name: "Flexible Window", desc: "Allow 1 free reschedule for peace of mind." }
                        ]
                    },
                    impact: [
                        { metric: "Adoption Rate", change: "+15% (Proj)" },
                        { metric: "Cancellation Drop", change: "-20%" },
                        { metric: "Premium Mix", change: "+10%" }
                    ]
                }
            },
            {
                id: "blinkit-intl",
                title: "Blinkit Premium: Intl. Market Strategy",
                company: "Blinkit",
                framework: "Market Entry & Premiumization",
                summary: "Capturing the HNI market by structuring a 'Global Gourmet' category for ultra-fast delivery.",
                thumbnail: "images/company-logos/Blinkit International Market R&D by Parth U (1).png",
                tags: ["Quick Commerce", "Strategy", "0-1"],
                role: "Senior PM (Strategy)",
                timeline: "3 Weeks (R&D)",
                tools: "Market Research, Competitor Analysis, Persona Mapping",
                heroStat: "$11B Market Opportunity",
                fullCaseStudyUrl: "https://drive.google.com/file/d/16RQkwY9Kgzg1sbFj2fgq6M0LQIrYmL7g/view?usp=sharing",
                content: {
                    problem: {
                        statement: "High-net-worth users want authentic international products but struggle with discovery and trust on quick-commerce apps.",
                        context: "While the online grocery market is booming ($11B+), premium segments are fragmented. HNI shoppers face 'Origin Blindness' (unclear authenticity) and inventory unreliability, often turning to niche players like Nature's Basket or slow delivery models like Amazon Fresh.",
                        visual: "map-europe"
                    },
                    research: [
                        { label: "Market Growth", value: "20%+", desc: "Annual growth in online grocery sector." },
                        { label: "Key Pain Point", value: "Trust", desc: "Users doubt authenticity of 'imported' tags." },
                        { label: "Opportunity", value: "Speed + Variety", desc: "Gap exists for '10-min Global Gourmet'." }
                    ],
                    extendedContent: {
                        jtbd: [
                            { type: "Functional", desc: "Find and order authentic Korean noodles or Swiss chocolate without visiting a specialty store." },
                            { type: "Emotional", desc: "Feel sophisticated and assured that the product is genuine and premium quality." },
                            { type: "Social", desc: "Serve unique, high-quality international snacks to guests at short notice." }
                        ],
                        journey: [
                            { stage: "Discovery", action: "Search 'Korean Noodles'", pain: "Mixed with local brands, unclear origin", solution: "Dedicated 'Global Gourmet' Section & 'Shop by Country' filters" },
                            { stage: "Evaluation", action: "Check Product", pain: "Is this authentic? Why so cheap?", solution: "'Direct Import' badges + Origin Certificates" },
                            { stage: "Purchase", action: "Add to Cart", pain: "Will it melt/break in 10 mins?", solution: "Premium 'Cold Chain' handling promise" }
                        ]
                    },
                    solution: {
                        strategy: "Position Blinkit not just as 'Fast', but as the 'Premium Concierge' for global goods.",
                        features: [
                            { name: "Global Gourmet Tab", desc: "Exclusive section for imported goods with country filters." },
                            { name: "Authenticity Badges", desc: "Clear 'Country of Origin' & '100% Authentic' tags." },
                            { name: "Premium Handling", desc: "Special packaging for delicate imports (chocolates/berries)." }
                        ]
                    },
                    impact: [
                        { metric: "AOV Potential", change: "2x-3x" },
                        { metric: "Target Segment", change: "Top 5% HNI" },
                        { metric: "Differentiation", change: "High" }
                    ]
                }
            },
            {
                id: "vitafit-retention",
                title: "VitaFit: Solving Retention with Community",
                company: "VitaFit",
                framework: "Hook Model & Gamification",
                summary: "Rebuilding user motivation through 'ConnectFit' mentorship and 'VitaVerse' social competition.",
                thumbnail: "images/company-logos/VitaFit  PRD by Parth Umraliya.png",
                tags: ["HealthTech", "Mobile", "Retention"],
                role: "Product Owner",
                timeline: "2 Months (PRD)",
                tools: "Mixpanel, UserTesting, Gamification Frameworks",
                heroStat: "+125% Retention Lift (Proj)",
                fullCaseStudyUrl: "https://drive.google.com/file/d/1k1ffXk_bl-mMREvbEwPdxHuRdUzxwTqD/view?usp=sharing",
                content: {
                    problem: {
                        statement: "Our platform is a 'Leaky Bucket'. 77% of new users churn within 3 days due to isolation.",
                        context: "At-home workouts lack the two core drivers of gym adherence: personal accountability and community presence. Users feel unmotivated without instructor feedback or peer connection, leading to a critical retention crisis (Day 30 retention is only 8-12%).",
                        visual: "funnel-drop"
                    },
                    research: [
                        { label: "Churn Rate", value: "77%", desc: "New users drop off within the first 3 days." },
                        { label: "Accountability Gap", value: "High", desc: "70% drop in motivation without feedback." },
                        { label: "Community Gap", value: "Critial", desc: "Social features can boost intent by 47%." }
                    ],
                    extendedContent: {
                        jtbd: [
                            { type: "Functional", desc: "Get effective workout plans and correct my form without paying for a personal trainer." },
                            { type: "Emotional", desc: "Feel 'seen' and cared for by an instructor, validating my effort and progress." },
                            { type: "Social", desc: "Compete with friends or a community to feel a sense of belonging and achievement." }
                        ],
                        journey: [
                            { stage: "Onboarding", action: "Sign up & Start", pain: "Overwhelmed, no guidance", solution: "ConnectFit: Algorithm matches user with a Mentor" },
                            { stage: "Engagement", action: "Daily Workout", pain: "Boring, lonely, no feedback", solution: "VitaVerse: Live Leaderboards & Social Feed" },
                            { stage: "Retention", action: "Week 4 Check-in", pain: "Loss of motivation", solution: "Mentee Progression: Badges & Live Q&A access" }
                        ]
                    },
                    solution: {
                        strategy: "Move from 'Content Library' to 'Coaching Community'. Build emotional anchors and competitive engines.",
                        features: [
                            { name: "ConnectFit", desc: "1:1 Mentor matching, form checks, and exclusive Live Q&As." },
                            { name: "VitaVerse", desc: "Gamified arena with Streaks, Team Challenges, and Leaderboards." },
                            { name: "Progression System", desc: "Bronze to Platinum badges to build user identity." }
                        ]
                    },
                    impact: [
                        { metric: "Day 30 Retention", change: "8% -> 18%" },
                        { metric: "Weekly Sessions", change: "1.2 -> 2.5" },
                        { metric: "Premium Conv.", change: "0% -> 15%" }
                    ]
                }
            },
            {
                id: "blinkit-sub",
                title: "Blinkit Subscription Model: User Research & RICE",
                company: "Blinkit",
                framework: "Pricing Strategy & RICE Prioritization",
                summary: "Designing a flexible, transparent subscription model to drive recurring revenue from daily essentials.",
                thumbnail: "images/company-logos/Blinkit Subsciption Model Final CS by Parth U.pdf.png",
                tags: ["E-commerce", "Monetization", "Loyalty"],
                role: "Product Manager",
                timeline: "1 Month (Strategy)",
                tools: "SurveyMonkey, Razorpay Data, RICE Framework",
                heroStat: "RICE Score: 9.6 (High Impact)",
                fullCaseStudyUrl: "https://drive.google.com/file/d/1xsTBR-w1TN8U81ed2vuTY-Nq9py0LOvt/view?usp=sharing",
                content: {
                    problem: {
                        statement: "Users want auto-delivery convenience but fear commitment traps and hidden charges.",
                        context: "While 75% of users are interested in subscriptions for milk/veggies, adoption is blocked by a 'Trust Deficit'. 68% hesitate due to auto-debit fears, and 60% worry about overstocking when traveling. The challenge is to build a model that offers 'Freedom', not 'Lock-in'.",
                        visual: "chart-ltv"
                    },
                    research: [
                        { label: "Commitment Fear", value: "60%", desc: "Users want to pause/skip instantly." },
                        { label: "Trust Barrier", value: "68%", desc: "Hesitate to enable auto-debits without transparency." },
                        { label: "Discount Pull", value: "75%", desc: "Willing to subscribe if savings > 10%." }
                    ],
                    extendedContent: {
                        jtbd: [
                            { type: "Functional", desc: "Automate my daily milk/bread supply so I never run out or have to order manually." },
                            { type: "Emotional", desc: "Feel smart about saving money and time on repetitive chores." },
                            { type: "Social", desc: "Manage household needs efficiently without being nagged by family members." }
                        ],
                        journey: [
                            { stage: "Consideration", action: "See Subscription Offer", pain: "What if I travel? Will money get cut?", solution: "Hero Messaging: 'Pause Anytime, No Questions Asked'" },
                            { stage: "Setup", action: "Select Items", pain: "Don't want bulk billing surprises", solution: "Transparent Billing Dashboard & Pre-debit Alerts" },
                            { stage: "Maintenance", action: "Weekly Usage", pain: "Too much milk piled up", solution: "Easy 'Skip Tomorrow' toggle on home screen" }
                        ]
                    },
                    solution: {
                        strategy: "Prioritize Flexibility & Transparency over aggressive lock-ins. Win trust first, then recurring revenue.",
                        features: [
                            { name: "Flexible Controls", desc: "RICE 9.6: One-tap pause/skip/modify. The #1 user demand." },
                            { name: "Billing Dashboard", desc: "RICE 8.4: View next charge date & get OTP alerts before debit." },
                            { name: "Loyalty Perks", desc: "RICE 8.1: Flat 10-15% off + Priority Delivery slots." }
                        ]
                    },
                    impact: [
                        { metric: "Adoption Barrier", change: "-40% Fear" },
                        { metric: "Recurring Revenue", change: "High Stability" },
                        { metric: "User Trust", change: "Significant Lift" }
                    ]
                }
            }
        ];

        // --- Mock AI Logic (Offline Fallback) ---
        const getCleanAIResponse = (prompt, type) => {
            const cleanText = (text) => text.replace(/(\*\*|##)/g, '');

            if (type === 'summary') {
                return `Here is the executive summary of the case study:

• Business Problem: The core challenge was high user churn due to lack of predictability in the service. High-value users demanded reliability over speed.
• Strategic Pivot: Shifted focus from pure on-demand mechanics to a "Scheduled Promise" model, reducing user anxiety.
• Key Outcome: Achieved a significant lift in retention and adoption, validating that trust is a higher currency than speed for this segment.
• Learning: Product-Market fit is dynamic; segments evolve and require bespoke value propositions.`;
            }

            const responses = {
                default: "That is an excellent question. In Product Management, the answer often lies in the data. I approach such challenges by first defining the core user problem, validating it with qualitative and quantitative insights, and then iteratively testing solutions. This ensures we prioritize value over volume and outcomes over output.",
                
                "prioritize": "Prioritization is the art of saying 'no' to good ideas to make room for great ones. I typically use a blended approach:\n\n• Strategic Alignment: Does this feature directly contribute to our current OKRs (e.g., Q3 Retention goal)?\n• RICE Scoring: I use RICE (Reach, Impact, Confidence, Effort) to create an objective baseline, but I don't follow it blindly.\n• User Urgency: Sometimes a low-RICE item is a 'paper cut' that is destroying user trust and needs immediate fixing.\n• Technical Debt: I advocate for allocating 20% of sprint capacity to engineering health to prevent future slowdowns.",
                
                "stakeholder": "Stakeholder management is about building trust before you need it. My approach involves:\n\n• Radical Transparency: I share roadmaps and trade-off decisions early, not just when things go wrong.\n• Speaking Their Language: With Sales, I talk revenue enablement. With Engineering, I talk scalability and tech debt. With Design, I talk user friction.\n• Data-Backed Decisions: When saying 'no', I bring data. It's not 'I don't like this feature', it's 'This feature has a projected impact of X vs Y'.\n• Regular Syncs: Consistent, short updates prevent the 'black box' phenomenon where stakeholders feel disconnected.",
                
                "metrics": "Metrics should tell a story, not just fill a dashboard. For a B2B SaaS product, I focus on the health hierarchy:\n\n• North Star: Net Revenue Retention (NRR). Are we keeping and growing the customers we have?\n• Engagement: DAU/MAU ratio tells us about stickiness.\n• Efficiency: CAC Payback Period ensures our growth is sustainable.\n• Sentiment: NPS or CSAT, but specifically analyzing the 'Why' behind the score.\n\nI avoid 'vanity metrics' like total registered users if they aren't active.",
                
                "conflict": "Conflict with engineering is usually a misalignment of context, not intent. When we disagree on a feature, I step back to the 'Why'.\n\n• Shared Understanding: I ensure engineers understand the business value and user pain. Often, they have a better solution once they know the *real* problem.\n• Feasibility Checks: I involve tech leads in the discovery phase, not just delivery, so constraints are known early.\n• Disagree and Commit: If we're deadlocked, we define a small experiment or MVP to validate the hypothesis with minimal code, letting the market decide.",
                
                "mvp": "MVP is not 'Minimum Crappy Product'. It's the Minimum *Viable* Product that delivers core value. I define it by the 'Cupcake' model: It should be small, but it must be complete (Cake + Icing). If we only ship the cake (backend) without icing (UX), users won't eat it.",
                
                "discovery": "Continuous discovery is key. I aim for at least 2 customer touchpoints per week. It's not a phase; it's a habit. I use opportunity solution trees to map insights to potential features, ensuring we aren't just building what users 'ask' for, but what they 'need'.",
                
                "roadmap": "A roadmap is a strategic communication tool, not a Gantt chart. I structure it by 'Now, Next, Later' themes rather than specific dates. 'Now' is committed specs. 'Next' is validated problems. 'Later' is broad strategic bets."
            };

            const p = prompt.toLowerCase();
            if (p.includes("priorit")) return cleanText(responses.prioritize);
            if (p.includes("stakeholder")) return cleanText(responses.stakeholder);
            if (p.includes("metric")) return cleanText(responses.metrics);
            if (p.includes("conflict") || p.includes("engineering")) return cleanText(responses.conflict);
            if (p.includes("mvp")) return cleanText(responses.mvp);
            if (p.includes("discovery")) return cleanText(responses.discovery);
            if (p.includes("roadmap")) return cleanText(responses.roadmap);
            
            return cleanText(responses.default);
        };

        const Icon = ({ name, className = "", size = 20 }) => {
            const containerRef = useRef(null);

            useEffect(() => {
                if (!window.lucide) return;
                
                const element = containerRef.current;
                if (!element) return;

                element.innerHTML = '';
                
                const i = document.createElement('i');
                i.setAttribute('data-lucide', name);
                
                element.appendChild(i);

                window.lucide.createIcons({
                    root: element,
                    attrs: {
                        width: size,
                        height: size,
                        'stroke-width': 2
                    }
                });
            }, [name, size]);

            return (
                <span 
                    ref={containerRef} 
                    className={`inline-flex items-center justify-center ${className}`}
                />
            );
        };

        // --- Components ---

        const Navbar = ({ activeSection }) => {
            const [scrolled, setScrolled] = useState(false);
            const [hoveredItem, setHoveredItem] = useState(null);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const navItems = [
                { id: 'home', label: 'Home', icon: 'home' },
                { id: 'work', label: 'Case Study', icon: 'briefcase' },
                { id: 'process', label: 'Process', icon: 'layers' },
                { id: 'ai-lab', label: 'AI Lab', icon: 'bot' },
                { id: 'about', label: 'About', icon: 'user' }
            ];

            const scrollTo = (id) => {
                setMobileMenuOpen(false); // Close mobile menu if open
                const el = document.getElementById(id);
                if(el) el.scrollIntoView({ behavior: 'smooth' });
            };

            return (
                <nav className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${scrolled ? 'py-4' : 'py-6 md:py-8'}`}>
                    <div className="container mx-auto px-4 md:px-6 flex justify-center">
                        <div className="glass-panel rounded-full pl-3 pr-3 md:pr-8 py-2 flex items-center justify-between gap-4 md:gap-8 w-full max-w-5xl relative z-50">
                            
                            {/* Logo Section */}
                            <div className="flex items-center gap-3 cursor-pointer group" onClick={() => scrollTo('home')}>
                                <div className="w-10 h-10 rounded-full overflow-hidden border-2 border-primary/20 shrink-0">
                                    <img src="images/profile-images/Profile_Picture .png" alt="Parth" className="w-full h-full object-cover scale-125" onError={(e) => {e.target.style.display='none'; e.target.nextSibling.style.display='flex'}}/>
                                    <div className="w-full h-full bg-gradient-to-br from-primary to-secondary hidden items-center justify-center font-bold text-black text-sm">P</div>
                                </div>
                                <span className="font-display font-bold text-xs md:text-sm tracking-wide uppercase group-hover:text-primary transition-colors hidden sm:block">PARTH UMRALIYA</span>
                            </div>

                            {/* Desktop Menu */}
                            <div className="hidden md:flex items-center gap-1 bg-white/5 rounded-full p-1 border border-white/5">
                                {navItems.map((item) => {
                                    const isActive = activeSection === item.id;
                                    const isHovered = hoveredItem === item.id;
                                    const showIcon = isActive || isHovered;

                                    return (
                                        <button 
                                            key={item.id}
                                            onClick={() => scrollTo(item.id)}
                                            onMouseEnter={() => setHoveredItem(item.id)}
                                            onMouseLeave={() => setHoveredItem(null)}
                                            className={`px-5 py-2.5 rounded-full text-xs font-bold transition-all duration-300 flex items-center gap-2
                                                ${isActive ? 'bg-primary text-black shadow-[0_0_15px_rgba(0,240,255,0.4)]' : 'text-gray-400 hover:text-white hover:bg-white/10'}
                                            `}
                                        >
                                            <span className={`transition-all duration-300 overflow-hidden flex items-center ${showIcon ? 'w-4 opacity-100' : 'w-0 opacity-0'}`}>
                                                <Icon name={item.icon} size={14} />
                                            </span>
                                            {item.label}
                                        </button>
                                    );
                                })}
                            </div>

                            {/* Right Actions: Let's Talk + Mobile Menu Trigger */}
                            <div className="flex items-center gap-3">
                                {/* Let's Talk Button - Always Visible */}
                                <button onClick={() => scrollTo('footer')} className="glass-panel px-4 md:px-6 py-2 md:py-2.5 rounded-full text-xs font-bold tracking-wide uppercase group hover:bg-white/10 transition-all border border-white/10 hover:border-primary/50 flex items-center gap-2">
                                    <span className="relative z-10 group-hover:text-primary transition-colors">Let's Talk</span>
                                    <Icon name="send" size={12} className="group-hover:text-primary transition-colors"/>
                                </button>

                                {/* Mobile Hamburger */}
                                <button 
                                    className="md:hidden p-2 rounded-full hover:bg-white/10 transition-colors"
                                    onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                                >
                                    <Icon name={mobileMenuOpen ? "x" : "menu"} size={24} className="text-white"/>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Mobile Menu Overlay */}
                    <AnimatePresence>
                        {mobileMenuOpen && (
                            <motion.div 
                                initial={{ opacity: 0, y: -20 }}
                                animate={{ opacity: 1, y: 0 }}
                                exit={{ opacity: 0, y: -20 }}
                                className="fixed inset-0 z-40 bg-dark/95 backdrop-blur-xl pt-32 px-6 md:hidden"
                            >
                                <div className="flex flex-col gap-4">
                                    {navItems.map((item) => (
                                        <button 
                                            key={item.id}
                                            onClick={() => scrollTo(item.id)}
                                            className="text-2xl font-display font-bold text-white text-left py-4 border-b border-white/10 flex items-center gap-4 active:text-primary"
                                        >
                                            <Icon name={item.icon} size={24} className="text-primary"/>
                                            {item.label}
                                        </button>
                                    ))}
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </nav>
            );
        };

        const Hero = () => {
            const { scrollY } = useScroll();
            // Scale increases as you scroll, and translateY moves it slightly up/parallax effect
            const scale = useTransform(scrollY, [0, 800], [1, 3.5]); 
            const y = useTransform(scrollY, [0, 800], [0, -150]);
            
            return (
                <section id="home" className="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
                    <div className="absolute inset-0 stars animate-[pulse_4s_infinite]"></div>

                    {/* Planet with Scale and Y Motion */}
                    <motion.div 
                        style={{ scale, y }} 
                        className="absolute z-0 flex items-center justify-center planet-container opacity-60"
                    >
                         <div className="planet">
                            <div className="ring w-[350px] h-[350px] md:w-[500px] md:h-[500px]"></div>
                            <div className="ring w-[500px] h-[500px] md:w-[700px] md:h-[700px] border-white/5"></div>
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-primary rounded-full blur-[20px]"></div>
                         </div>
                    </motion.div>

                    <div className="container mx-auto px-6 relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                        <div className="space-y-8 md:space-y-10 text-center lg:text-left">
                             <motion.div 
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-primary/30 bg-primary/10 backdrop-blur-md"
                            >
                                <span className="w-2 h-2 rounded-full bg-primary animate-pulse shadow-[0_0_10px_#00F0FF]"></span>
                                <span className="text-[10px] md:text-xs font-mono text-primary tracking-widest uppercase font-bold">Total 7+ years of Journey & Counting</span>
                            </motion.div>

                            <h1 className="text-5xl md:text-8xl font-display font-bold leading-[0.95] text-white tracking-tight">
                                I Building <br/>
                                the <br/>
                                <span className="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">Unimaginable.</span>
                            </h1>

                            <p className="text-lg md:text-xl text-gray-400 max-w-lg leading-relaxed md:border-l-4 md:border-primary/50 md:pl-6 py-2 mx-auto lg:mx-0">
                                I don't just manage products. I build engines for growth using data, empathy, and strategic execution.
                            </p>

                            <div className="flex flex-col sm:flex-row gap-4 pt-4 justify-center lg:justify-start">
                                <button onClick={() => document.getElementById('work').scrollIntoView({behavior: 'smooth'})} className="bg-white text-black px-8 py-4 rounded-full font-bold hover:scale-105 transition-transform flex items-center justify-center gap-3 text-sm tracking-wide w-full sm:w-auto">
                                    Explore Work <Icon name="arrow-down" size={18}/>
                                </button>
                                <button onClick={() => document.getElementById('ai-lab').scrollIntoView({behavior: 'smooth'})} className="px-8 py-4 rounded-full font-bold border border-white/20 hover:bg-white/5 transition-colors flex items-center justify-center gap-3 text-sm tracking-wide group text-gray-300 w-full sm:w-auto">
                                    <span className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                    Ask me anything
                                    <Icon name="arrow-right" size={18} className="group-hover:translate-x-1 transition-transform"/>
                                </button>
                            </div>
                        </div>

                        <div className="flex justify-center lg:justify-end items-center h-[400px] md:h-[500px]">
                            <HeroCards />
                        </div>
                    </div>
                </section>
            );
        };

        const HeroCards = () => {
            const [activeIndex, setActiveIndex] = useState(0);

            useEffect(() => {
                const interval = setInterval(() => {
                    setActiveIndex((prev) => (prev + 1) % HERO_CARDS.length);
                }, 3500);
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="relative w-full max-w-sm h-[380px] perspective-1000">
                    {HERO_CARDS.map((card, index) => {
                        const isActive = index === activeIndex;
                        const isNext = index === (activeIndex + 1) % HERO_CARDS.length;
                        
                        if (!isActive && !isNext) return null;

                        return (
                            <motion.div
                                key={index}
                                initial={isNext ? { scale: 0.9, y: 30, opacity: 0.6, zIndex: 0 } : { scale: 1, y: 0, opacity: 1, zIndex: 10 }}
                                animate={isActive 
                                    ? { scale: 1, y: 0, opacity: 1, zIndex: 10 } 
                                    : { scale: 0.9, y: 30, opacity: 0.6, zIndex: 0 }
                                }
                                transition={{ duration: 0.6, ease: "easeInOut" }}
                                // Pure Liquid Glass with more height to accommodate text
                                className="absolute inset-0 rounded-3xl p-8 flex flex-col justify-between border border-white/10 shadow-2xl backdrop-blur-xl bg-white/5"
                                style={{ transformOrigin: "center bottom" }}
                            >
                                <div className="flex justify-between items-start">
                                    <div className="w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center text-primary border border-white/10">
                                        <Icon name={card.icon} size={28} />
                                    </div>
                                    <span className="text-xs font-mono text-gray-400 bg-white/5 px-2 py-1 rounded">0{index + 1}</span>
                                </div>
                                
                                <div className="mt-6 flex-1 flex flex-col">
                                    <h3 className="text-3xl font-display font-bold text-white mb-3">{card.title}</h3>
                                    <p className="text-sm text-gray-400 leading-relaxed mb-6">{card.desc}</p>
                                    
                                    {/* Keywords Section */}
                                    <div className="mt-auto flex flex-wrap gap-2">
                                        {card.keywords.map((kw, i) => (
                                            <div key={i} className="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10 group-hover:border-primary/30 transition-colors">
                                                <Icon name="hash" size={10} className="text-primary opacity-70"/>
                                                <span className="text-[10px] font-mono text-gray-300 uppercase tracking-wider">{kw}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="h-1 bg-white/10 rounded-full mt-6 overflow-hidden">
                                    {isActive && (
                                        <motion.div 
                                            className="h-full bg-gradient-to-r from-primary to-secondary"
                                            initial={{ width: "0%" }}
                                            animate={{ width: "100%" }}
                                            transition={{ duration: 3.5, ease: "linear" }}
                                        />
                                    )}
                                </div>
                            </motion.div>
                        );
                    })}
                </div>
            );
        };

        // --- NEW: Trusted By Section ---
        const TrustedBy = () => {
            const logosRow1 = [
                { name: "NBA World", img: "images/company-logos/NBAWorld.png", url: "https://nbaworld.in/" },
                { name: "VTech Solution", img: "images/company-logos/vtech.png", url: "https://vtech.com" },
                { name: "Uprize Now", img: "images/company-logos/uprize.png", url: "https://uprizenow.com" },
                { name: "Herbalife", img: "images/company-logos/herballife.png", url: "https://herbalife.com" },
                { name: "DC Water", img: "images/company-logos/dc.png", url: "https://dcwater.com" },
                { name: "USDA", img: "images/company-logos/usda.png", url: "https://usda.gov" },
                { name: "HHS OIG", img: "images/company-logos/OIG.png", url: "https://oig.hhs.gov" }
            ];
            const logosRow2 = [
                { name: "BC Gov", img: "images/company-logos/British Columbia.png", url: "https://gov.bc.ca" },
                { name: "DC Housing", img: "images/company-logos/DCHA.png", url: "https://dchousing.org" },
                { name: "Missouri Edu", img: "images/company-logos/Missouri.png", url: "https://missouri.edu" },
                { name: "Finomics AI", img: "images/company-logos/finomics.png", url: "https://finomics.ai" },
                { name: "AstroWeds", img: "images/company-logos/Astroweds.png", url: "https://astroweds.com" },
                { name: "DSale", img: "images/company-logos/dsale.png", url: "https://dsale.in" },
                { name: "DXora", img: "images/company-logos/newdxora.png", url: "https://dxora.com" },
                { name: "DSupply", img: "images/company-logos/Dsupply.png", url: "https://dsupply.com" },
                { name: "SaladKaro", img: "images/company-logos/Saladkaro.png", url: "https://saladkaro.store" }
            ];

            return (
                <section className="py-20 bg-dark border-y border-white/5 overflow-hidden relative z-20">
                    {/* Animated Gradient Background */}
                    <div className="absolute inset-0 opacity-20">
                        <div className="absolute top-0 left-1/4 w-96 h-96 bg-primary/30 rounded-full blur-3xl animate-pulse" style={{animationDuration: '4s'}}></div>
                        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-secondary/30 rounded-full blur-3xl animate-pulse" style={{animationDuration: '6s', animationDelay: '1s'}}></div>
                    </div>

                    {/* Floating Particles */}
                    <div className="absolute inset-0 pointer-events-none">
                        <div className="absolute top-1/4 left-1/3 w-2 h-2 bg-primary rounded-full animate-ping" style={{animationDuration: '3s'}}></div>
                        <div className="absolute top-2/3 right-1/4 w-2 h-2 bg-secondary rounded-full animate-ping" style={{animationDuration: '4s', animationDelay: '1s'}}></div>
                        <div className="absolute bottom-1/3 left-1/2 w-1 h-1 bg-primary rounded-full animate-ping" style={{animationDuration: '5s', animationDelay: '2s'}}></div>
                    </div>

                    <div className="container mx-auto px-6 mb-12 text-center relative z-10">
                        <h2 className="text-3xl md:text-4xl font-display font-bold text-white mb-4">Companies I've Worked With</h2>
                        <p className="text-gray-400 max-w-2xl mx-auto text-sm md:text-base">
                            Impressive track record delivering high-profile projects for US Federal Government agencies and leading global enterprises.
                        </p>
                    </div>

                    <div className="flex flex-col gap-8 relative">
                        {/* Enhanced Gradient Masks with Color */}
                        <div className="absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-dark via-dark/90 to-transparent z-10"></div>
                        <div className="absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-dark via-dark/90 to-transparent z-10"></div>

                        {/* Row 1: Right to Left with Rainbow Effect */}
                        <div className="flex gap-8 animate-marquee whitespace-nowrap">
                            {[...logosRow1, ...logosRow1, ...logosRow1].map((logo, i) => (
                                <a 
                                    key={i} 
                                    href={logo.url} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="group relative flex items-center justify-center transition-all duration-500 cursor-pointer select-none h-28 min-w-[180px] px-6 rounded-xl hover:bg-white/5"
                                >
                                    {/* Animated Border on Hover */}
                                    <div className="absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-primary/20 via-secondary/20 to-primary/20 blur-sm"></div>
                                    
                                    <img 
                                        src={logo.img} 
                                        alt={logo.name} 
                                        className="relative z-10 h-16 w-auto object-contain opacity-70 group-hover:opacity-100 transition-all duration-500 group-hover:scale-125 group-hover:rotate-3 group-hover:drop-shadow-[0_0_15px_rgba(0,240,255,0.5)]"
                                        onError={(e) => {e.target.style.display='none'}}
                                    />
                                </a>
                            ))}
                        </div>

                        {/* Row 2: Left to Right with Rainbow Effect */}
                        <div className="flex gap-8 animate-marquee whitespace-nowrap" style={{ animationDirection: 'reverse' }}>
                            {[...logosRow2, ...logosRow2, ...logosRow2].map((logo, i) => (
                                <a 
                                    key={i} 
                                    href={logo.url} 
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="group relative flex items-center justify-center transition-all duration-500 cursor-pointer select-none h-28 min-w-[180px] px-6 rounded-xl hover:bg-white/5"
                                >
                                    {/* Animated Border on Hover */}
                                    <div className="absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-secondary/20 via-primary/20 to-secondary/20 blur-sm"></div>
                                    
                                    <img 
                                        src={logo.img} 
                                        alt={logo.name} 
                                        className="relative z-10 h-16 w-auto object-contain opacity-70 group-hover:opacity-100 transition-all duration-500 group-hover:scale-125 group-hover:-rotate-3 group-hover:drop-shadow-[0_0_15px_rgba(112,0,255,0.5)]"
                                        onError={(e) => {e.target.style.display='none'}}
                                    />
                                </a>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const CaseStudyCard = ({ study, onClick }) => {
            return (
                <motion.div 
                    whileHover={{ y: -10 }}
                    className="glass-panel rounded-3xl overflow-hidden cursor-pointer group relative flex flex-col h-full hover:border-primary/50 transition-all duration-500"
                    onClick={() => onClick(study)}
                >
                    <div className="h-56 overflow-hidden relative">
                        <img src={study.thumbnail} alt={study.title} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
                        <div className="absolute inset-0 bg-dark/50 group-hover:bg-dark/30 transition-colors"></div>
                        <div className="absolute top-5 right-5">
                             <div className="flex items-center gap-2 px-3 py-1.5 bg-black/60 backdrop-blur-md rounded-lg border border-white/10">
                                <div className="w-2 h-2 rounded-full bg-primary shadow-[0_0_8px_#00F0FF]"></div>
                                <span className="text-xs font-bold text-white uppercase tracking-wider">{study.company}</span>
                             </div>
                        </div>
                    </div>

                    <div className="p-8 flex-1 flex flex-col">
                        <div className="mb-8">
                            <h3 className="text-2xl font-display font-bold text-white mb-3 leading-tight group-hover:text-primary transition-colors">{study.title}</h3>
                            <p className="text-gray-400 text-sm leading-relaxed">{study.summary}</p>
                        </div>
                        
                        <div className="mt-auto flex items-center justify-between border-t border-white/10 pt-5">
                            <span className="text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded">{study.framework}</span>
                            <span className="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-primary group-hover:text-black transition-all duration-300 transform group-hover:rotate-45">
                                <Icon name="arrow-up-right" size={20} />
                            </span>
                        </div>
                    </div>
                </motion.div>
            );
        };

        const CaseStudies = ({ onSelect }) => {
            return (
                <section id="work" className="py-32 relative z-10">
                    {/* Background Animation for Case Studies: Circuit Lines */}
                    <div className="absolute inset-0 pointer-events-none opacity-20">
                        <svg className="w-full h-full" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style={{stopColor: "#00F0FF", stopOpacity: 0}} />
                                    <stop offset="50%" style={{stopColor: "#00F0FF", stopOpacity: 1}} />
                                    <stop offset="100%" style={{stopColor: "#00F0FF", stopOpacity: 0}} />
                                </linearGradient>
                            </defs>
                            <path d="M0,100 Q400,200 800,100 T1600,100" fill="none" stroke="url(#grad1)" strokeWidth="1" strokeDasharray="10 10" className="animate-dash" />
                            <path d="M0,300 Q600,100 1200,300 T2000,300" fill="none" stroke="url(#grad1)" strokeWidth="1" strokeDasharray="15 15" className="animate-dash" style={{animationDuration: '25s'}} />
                            <circle cx="20%" cy="20%" r="2" fill="#00F0FF" className="animate-pulse" />
                            <circle cx="80%" cy="60%" r="2" fill="#7000FF" className="animate-pulse" style={{animationDelay: '1s'}} />
                        </svg>
                    </div>

                    <div className="container mx-auto px-6 relative z-10">
                        <div className="flex flex-col md:flex-row md:items-end justify-between mb-20 gap-8">
                            <div>
                                <h2 className="text-4xl md:text-5xl font-display font-bold mb-6">Selected Case Studies</h2>
                                <div className="h-1.5 w-24 bg-gradient-to-r from-primary to-secondary rounded-full"></div>
                            </div>
                            <p className="text-gray-400 max-w-md text-lg text-left md:text-right leading-relaxed">
                                A curated selection of product challenges solved using data, strategy, and design thinking.
                            </p>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                            {CASE_STUDIES_DATA.map((study, idx) => (
                                <motion.div
                                    key={study.id}
                                    initial={{ opacity: 0, y: 30 }}
                                    whileInView={{ opacity: 1, y: 0 }}
                                    viewport={{ once: true }}
                                    transition={{ delay: idx * 0.1 }}
                                >
                                    <CaseStudyCard study={study} onClick={onSelect} />
                                </motion.div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const Process = () => {
             const steps = [
                { num: "01", title: "Discover", icon: "telescope", desc: "Uncovering the 'Why' through user interviews, market analysis, and data mining." },
                { num: "02", title: "Define", icon: "target", desc: "Synthesizing insights into actionable problem statements and success metrics." },
                { num: "03", title: "Develop", icon: "cpu", desc: "Iterative prototyping and validation to ensure we build the right thing." },
                { num: "04", title: "Deliver", icon: "rocket", desc: "Agile execution and go-to-market strategy to drive measurable impact." }
            ];

            return (
                <section id="process" className="py-32 bg-darker relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-2/3 h-full bg-gradient-to-l from-primary/5 to-transparent pointer-events-none"></div>
                    
                    <div className="container mx-auto px-6 relative z-10">
                        <div className="mb-24 text-center max-w-3xl mx-auto">
                            <h2 className="text-4xl md:text-5xl font-display font-bold mb-6">The Process</h2>
                            <p className="text-gray-400 text-lg">
                                My framework for navigating ambiguity and delivering value.
                            </p>
                        </div>

                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                            {steps.map((step, idx) => (
                                <div key={idx} className="animated-border-card p-1">
                                    <div className="animated-border-inner p-8 flex flex-col h-full justify-between">
                                        <div>
                                            <div className="flex justify-between items-start mb-8">
                                                <div className="w-12 h-12 bg-white/5 rounded-xl flex items-center justify-center text-primary">
                                                    <Icon name={step.icon} size={24}/>
                                                </div>
                                                <span className="text-4xl font-display font-bold text-white/5">{step.num}</span>
                                            </div>
                                            <h3 className="text-xl font-bold mb-4">{step.title}</h3>
                                            <p className="text-sm text-gray-400 leading-relaxed">{step.desc}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const AILab = () => {
            const [chat, setChat] = useState([
                { type: 'bot', text: "Welcome to Parth's AI Lab. I'm trained on his PM methodologies. Ask me anything!" }
            ]);
            const [isTyping, setIsTyping] = useState(false);
            const [input, setInput] = useState("");
            const chatContainerRef = useRef(null);
            
            const scrollToBottom = () => {
                if(chatContainerRef.current) {
                    chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;
                }
            };

            useEffect(() => {
                scrollToBottom();
            }, [chat, isTyping]);

            const handleAsk = async (question) => {
                if(!question.trim()) return;
                
                setChat(prev => [...prev, { type: 'user', text: question }]);
                setInput("");
                setIsTyping(true);

                try {
                    const apiKey = ""; // API Key is provided by environment in Canvas
                    
                    // Attempt to fetch from Gemini
                    if (apiKey) {
                        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${apiKey}`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                contents: [{ parts: [{ text: question }] }],
                                systemInstruction: { 
                                    parts: [{ 
                                        text: "You are Parth's Digital Twin, an experienced Product Manager. Answer questions about product management, strategy, and Parth's experience. Keep answers structured, concise, and professional. Do NOT use Markdown headers (##) or bolding (**). Use bullet points (•) and numbered lists for structure. Do NOT ask follow-up questions. Do NOT ask for more context or clarification. Provide a direct, definitive answer based on general product management best practices if specific context is missing. Avoid repetitive opening phrases like 'That is a great question'." 
                                    }] 
                                }
                            })
                        });

                        if (!response.ok) throw new Error('API Error');

                        const data = await response.json();
                        const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text;
                        
                        if (aiText) {
                            setIsTyping(false);
                            setChat(prev => [...prev, { type: 'bot', text: aiText }]);
                            return; 
                        }
                    } 
                    // If no key or empty response, fall through to mock
                    throw new Error('Fallback to Mock');

                } catch (error) {
                    // Fallback to internal mock brain
                    setTimeout(() => {
                        const answer = getCleanAIResponse(question, 'chat');
                        setChat(prev => [...prev, { type: 'bot', text: answer }]);
                        setIsTyping(false);
                    }, 1000);
                }
            };

            const questions = [
                { text: "How do you prioritize features?", icon: "list-ordered" },
                { text: "Approach to Stakeholder Management?", icon: "users" },
                { text: "How do you define success metrics?", icon: "bar-chart-2" },
                { text: "Conflict resolution with Engineering?", icon: "git-merge" },
                { text: "What defines an MVP?", icon: "box" },
                { text: "Discovery process?", icon: "search" },
                { text: "Philosophy on Roadmapping?", icon: "map" }
            ];

            return (
                <section id="ai-lab" className="py-32 relative">
                    <div className="container mx-auto px-6 max-w-6xl">
                         <div className="flex items-center justify-between mb-12">
                            <div>
                                <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-primary/30 bg-primary/10 mb-4">
                                    <Icon name="bot" size={14} className="text-primary"/>
                                    <span className="text-[10px] font-mono text-primary tracking-widest uppercase font-bold">Parth's AI Lab</span>
                                </div>
                                <h2 className="text-4xl font-display font-bold">Ask the Digital Twin</h2>
                            </div>
                         </div>

                         {/* Always Animated Container for Chat + Sidebar */}
                         <div className="animated-border-card border-animate-always p-[2px] rounded-3xl shadow-2xl">
                             <div className="animated-border-inner flex flex-col md:flex-row h-[700px] overflow-hidden rounded-3xl">
                                
                                {/* Questions Sidebar */}
                                <div className="w-full md:w-80 bg-black/30 border-r border-white/10 p-6 flex flex-col overflow-y-auto hidden md:flex">
                                    <h3 className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-6 flex items-center gap-2">
                                        <Icon name="message-square" size={12}/> Common Queries
                                    </h3>
                                    <div className="space-y-3">
                                        {questions.map((q, i) => (
                                            <button 
                                                key={i}
                                                onClick={(e) => {
                                                    e.preventDefault();
                                                    e.stopPropagation();
                                                    handleAsk(q.text);
                                                }}
                                                className="w-full text-left p-4 rounded-xl bg-white/5 hover:bg-white/10 border border-transparent hover:border-primary/30 transition-all text-xs text-gray-300 leading-relaxed flex items-center gap-3 group"
                                            >
                                                <Icon name={q.icon} size={14} className="text-gray-500 group-hover:text-primary transition-colors"/>
                                                {q.text}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Chat Area */}
                                <div className="flex-1 flex flex-col bg-black/50 relative">
                                    <div 
                                        ref={chatContainerRef}
                                        className="flex-1 p-4 md:p-8 overflow-y-auto space-y-8 scroll-smooth"
                                    >
                                        {chat.map((msg, idx) => (
                                            <div key={idx} className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}>
                                                <div className={`max-w-[90%] md:max-w-[85%] p-4 md:p-6 rounded-2xl text-sm leading-7 ${
                                                    msg.type === 'user' 
                                                    ? 'bg-primary text-black font-medium rounded-tr-sm' 
                                                    : 'bg-white/5 border border-white/10 text-gray-200 rounded-tl-sm shadow-lg'
                                                }`}>
                                                    {msg.type === 'bot' && (
                                                        <div className="flex items-center gap-2 mb-3 pb-3 border-b border-white/10">
                                                            <Icon name="bot" size={14} className="text-primary"/>
                                                            <span className="text-xs font-bold text-gray-400 uppercase">My Answer</span>
                                                        </div>
                                                    )}
                                                    <div className="whitespace-pre-wrap font-sans">{msg.text}</div>
                                                </div>
                                            </div>
                                        ))}
                                        {isTyping && (
                                            <div className="flex justify-start">
                                                <div className="bg-white/5 p-4 rounded-2xl rounded-tl-sm flex gap-1.5">
                                                    <span className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{ animationDelay: '0ms' }}></span>
                                                    <span className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{ animationDelay: '150ms' }}></span>
                                                    <span className="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style={{ animationDelay: '300ms' }}></span>
                                                </div>
                                            </div>
                                        )}
                                    </div>

                                    {/* Custom Input Area */}
                                    <div className="p-4 border-t border-white/10 bg-black/60 backdrop-blur-md">
                                        <form 
                                            onSubmit={(e) => {
                                                e.preventDefault();
                                                handleAsk(input);
                                            }}
                                            className="flex gap-3 items-center"
                                        >
                                            <input 
                                                type="text" 
                                                value={input}
                                                onChange={(e) => setInput(e.target.value)}
                                                placeholder="Type your question..."
                                                className="flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-primary/50 transition-colors"
                                            />
                                            <button 
                                                type="submit" 
                                                className="bg-white text-black p-3 rounded-xl hover:bg-primary transition-colors disabled:opacity-50 flex items-center justify-center h-full"
                                                disabled={!input.trim()}
                                            >
                                                <Icon name="send" size={18} />
                                            </button>
                                        </form>
                                    </div>
                                </div>
                             </div>
                         </div>
                    </div>
                </section>
            );
        };

        const About = () => {
            return (
                <section id="about" className="py-32 relative">
                     <div className="container mx-auto px-6 relative z-10 flex flex-col md:flex-row items-center gap-20">
                        <div className="w-full md:w-5/12">
                            {/* Profile with Moving Gradient Border */}
                            <div className="animated-border-card border-animate-always p-[2px]">
                                <div className="animated-border-inner overflow-hidden relative group bg-gray-800 w-full aspect-[3/4]">
                                    <div className="absolute inset-0 bg-gray-800 flex items-center justify-center">
                                         <img src="images/profile-images/about_picture.png" alt="Parth" className="w-full h-full object-cover" onError={(e) => {e.target.style.display='none'; e.target.nextSibling.style.display='flex'}}/>
                                        <Icon name="user" size={80} className="text-gray-600 hidden"/>
                                    </div>
                                    <div className="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"></div>
                                    <div className="absolute bottom-8 left-8">
                                        <h3 className="text-3xl font-display font-bold text-white">Parth Umraliya</h3>
                                        <p className="text-primary font-mono mt-1">Product Manager</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="w-full md:w-7/12 space-y-10">
                            <h2 className="text-5xl md:text-6xl font-display font-bold">Obsessed with <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-primary to-secondary">User Value.</span></h2>
                            <div className="space-y-6 text-lg text-gray-400 leading-relaxed">
                                <p>
                                    I don't just manage backlogs; I manage value. My background allows me to speak the language of engineering while fiercely advocating for the user.
                                </p>
                                <p>
                                    I believe the best products are born from a deep understanding of the "Why" and a relentless execution of the "How". I thrive in ambiguity and love turning chaos into structure.
                                </p>
                            </div>
                            
                            <div className="grid grid-cols-3 gap-4 md:gap-8 pt-10 border-t border-white/10">
                                <div>
                                    <div className="text-3xl md:text-4xl font-bold text-white mb-2">4+</div>
                                    <div className="text-[10px] md:text-xs text-gray-500 uppercase tracking-widest font-bold">Years Exp</div>
                                </div>
                                <div>
                                    <div className="text-3xl md:text-4xl font-bold text-white mb-2">12+</div>
                                    <div className="text-[10px] md:text-xs text-gray-500 uppercase tracking-widest font-bold">Products</div>
                                </div>
                                <div>
                                    <div className="text-3xl md:text-4xl font-bold text-white mb-2">100%</div>
                                    <div className="text-[10px] md:text-xs text-gray-500 uppercase tracking-widest font-bold">Commitment</div>
                                </div>
                            </div>
                        </div>
                     </div>
                </section>
            );
        };

        const Footer = () => {
            return (
                <footer id="footer" className="relative py-32 bg-black overflow-hidden">
                    <div className="absolute top-1/2 -translate-y-1/2 w-full opacity-20 pointer-events-none select-none">
                        <div className="animate-marquee text-[20vw] font-display font-bold text-white leading-none whitespace-nowrap">
                            LET'S BUILD • LET'S SHIP • 
                        </div>
                    </div>

                    <div className="container mx-auto px-6 relative z-10 text-center">
                        <h2 className="text-4xl md:text-7xl font-bold mb-10 tracking-tight">Ready to collaborate?</h2>
                        
                        <a 
                            href="https://mail.google.com/mail/?view=cm&fs=1&to=parthumraliya97.23@gmail.com&su=Product%20Management%20Opportunity%20%7C%20Portfolio%20Inquiry"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="inline-block max-w-full"
                        >
                            {/* Animated Border Pill Button with Liquid Glass Inner - ALWAYS ON */}
                            <div className="animated-border-card animated-border-pill border-animate-always p-[2px]">
                                <div className="animated-border-inner px-6 py-4 md:px-12 md:py-6 flex items-center gap-4 group hover:bg-white/10 transition-colors bg-white/5 backdrop-blur-md">
                                    <span className="text-sm md:text-xl text-gray-300 group-hover:text-white font-mono relative z-10 break-all md:break-normal">parthumraliya97.23@gmail.com</span>
                                    <div className="w-8 h-8 md:w-12 md:h-12 rounded-full bg-primary flex items-center justify-center text-black group-hover:rotate-45 transition-transform relative z-10 shrink-0">
                                        <Icon name="arrow-up-right" size={20} />
                                    </div>
                                </div>
                            </div>
                        </a>

                        <div className="flex justify-center gap-8 md:gap-10 mt-16">
                            <a href="https://www.linkedin.com/in/parth-umraliya?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" target="_blank" rel="noopener noreferrer" className="text-gray-600 hover:text-[#0A66C2] transition-colors hover:scale-110 transform duration-300">
                                <Icon name="linkedin" size={28} />
                            </a>
                            <a href="#" className="text-gray-600 hover:text-[#FF0000] transition-colors hover:scale-110 transform duration-300">
                                <Icon name="youtube" size={28} />
                            </a>
                            <a href="https://drive.google.com/drive/folders/1U5A1-V_1s5n4uz3eAZLrjNLez-5pbPCH?usp=sharing" target="_blank" rel="noopener noreferrer" className="text-gray-600 hover:text-[#1FA463] transition-colors hover:scale-110 transform duration-300">
                                <Icon name="folder" size={28} />
                            </a>
                        </div>
                        
                        <div className="mt-20 flex flex-col items-center gap-4">
                            <p className="text-sm md:text-lg text-gray-400 italic">"I don't just ship code, I ship outcomes. (And occasionally cookies 🍪)."</p>
                            <div className="text-[10px] md:text-xs text-gray-800 font-mono uppercase tracking-widest">
                                © 2025 Parth Umraliya. All Rights Reserved.
                            </div>
                        </div>
                    </div>
                </footer>
            );
        };

        // --- Detail View Components (Reuse from previous, just ensuring they exist) ---
        const CaseStudyDetail = ({ study, onBack }) => {
             const [aiSummary, setAiSummary] = useState(null);
             
             // FIXED: Scroll to top on mount
             useEffect(() => {
                 window.scrollTo(0, 0);
             }, []);

             const generateSummary = () => {
                setTimeout(() => setAiSummary(getCleanAIResponse("summary", "summary")), 1000);
             };

            return (
                <div className="bg-darker min-h-screen pb-32 pt-24 relative"> {/* Increased padding-bottom for sticky footer */}
                     <nav className="fixed top-0 left-0 right-0 z-50 bg-dark/90 backdrop-blur border-b border-white/10 h-16 flex items-center px-6 justify-between">
                        <button onClick={onBack} className="text-sm font-bold text-gray-400 hover:text-white flex items-center gap-2">
                            <Icon name="arrow-left" size={16} /> BACK TO HOME
                        </button>
                        <span className="font-mono text-xs text-primary">{study.company}</span>
                    </nav>

                    <div className="container mx-auto px-6 max-w-4xl mt-12">
                        {/* Banner Image */}
                        <div className="w-full h-64 md:h-80 rounded-3xl overflow-hidden mb-6 relative border border-white/10">
                            <img src={study.thumbnail} className="w-full h-full object-cover" alt="Case Study Banner" />
                            <div className="absolute inset-0 bg-gradient-to-t from-darker via-transparent to-transparent"></div>
                        </div>
                        
                        {/* Title and Framework Tag */}
                        <div className="mb-12">
                            <div className="inline-block px-4 py-1 rounded-full border border-white/10 bg-white/5 text-xs font-mono text-primary mb-4 backdrop-blur-md">{study.framework}</div>
                            <h1 className="text-4xl md:text-6xl font-display font-bold text-white leading-tight">{study.title}</h1>
                        </div>

                        <div className="grid grid-cols-2 md:grid-cols-4 gap-6 mb-16 border-y border-white/10 py-8">
                            <div><div className="text-xs text-gray-500 uppercase mb-1">Role</div><div className="font-bold text-white">{study.role}</div></div>
                            <div><div className="text-xs text-gray-500 uppercase mb-1">Timeline</div><div className="font-bold text-white">{study.timeline}</div></div>
                            <div><div className="text-xs text-gray-500 uppercase mb-1">Tools</div><div className="font-bold text-white">{study.tools}</div></div>
                            <div><div className="text-xs text-gray-500 uppercase mb-1">Impact</div><div className="font-bold text-primary">{study.heroStat}</div></div>
                        </div>
                        
                        {/* Summary Button */}
                        <div className="glass-panel p-6 rounded-xl mb-16 flex items-center justify-between">
                            <div>
                                <h3 className="font-bold flex items-center gap-2 text-white"><Icon name="sparkles" size={16} className="text-primary"/> AI Executive Summary</h3>
                                <p className="text-xs text-gray-400 mt-1">Get the key takeaways instantly.</p>
                            </div>
                            <button onClick={generateSummary} className="px-4 py-2 bg-white text-black text-xs font-bold rounded-lg hover:bg-gray-200 transition-colors">Summarize</button>
                        </div>
                        {aiSummary && <div className="bg-white/5 p-6 rounded-xl mb-12 text-sm leading-relaxed whitespace-pre-wrap border-l-4 border-primary text-gray-300">{aiSummary}</div>}

                        {/* Content Blocks */}
                        <div className="space-y-20">
                            {/* Problem Section */}
                            <section>
                                <h2 className="text-2xl font-bold mb-6 text-white flex items-center gap-3"><span className="text-primary">01.</span> The Problem</h2>
                                <div className="bg-white/5 p-8 rounded-2xl border border-white/10">
                                    <h3 className="text-xl font-medium text-white mb-4">"{study.content.problem.statement}"</h3>
                                    <p className="text-gray-400 leading-relaxed text-lg">{study.content.problem.context}</p>
                                </div>
                            </section>

                            {/* Research Stats */}
                            <section>
                                <h2 className="text-2xl font-bold mb-6 text-white flex items-center gap-3"><span className="text-primary">02.</span> Research & Insights</h2>
                                <div className="grid md:grid-cols-3 gap-6">
                                    {study.content.research.map((item, idx) => (
                                        <div key={idx} className="glass-panel p-6 rounded-xl border-l-2 border-primary/50">
                                            <div className="text-xs text-gray-500 uppercase tracking-wider mb-2">{item.label}</div>
                                            <div className="text-lg font-bold text-white mb-2">{item.value}</div>
                                            <div className="text-sm text-gray-400 leading-relaxed">{item.desc}</div>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* EXTENDED CONTENT: JTBD (Only renders if data exists) */}
                            {study.content.extendedContent && (
                                <>
                                    <section>
                                        <h2 className="text-2xl font-bold mb-6 text-white flex items-center gap-3"><span className="text-primary">03.</span> Jobs To Be Done</h2>
                                        <div className="grid md:grid-cols-3 gap-6">
                                            {study.content.extendedContent.jtbd.map((job, idx) => (
                                                <div key={idx} className="bg-white/5 p-6 rounded-xl border border-white/10 hover:border-primary/30 transition-colors">
                                                    <div className="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary mb-4 text-xs font-bold">
                                                        {job.type[0]}
                                                    </div>
                                                    <h4 className="text-white font-bold mb-2">{job.type} Job</h4>
                                                    <p className="text-sm text-gray-400 leading-relaxed">"{job.desc}"</p>
                                                </div>
                                            ))}
                                        </div>
                                    </section>

                                    <section>
                                        <h2 className="text-2xl font-bold mb-6 text-white flex items-center gap-3"><span className="text-primary">04.</span> User Journey & Solutions</h2>
                                        <div className="overflow-x-auto rounded-xl border border-white/10">
                                            <table className="w-full text-left text-sm text-gray-400">
                                                <thead className="bg-white/5 text-white uppercase font-bold text-xs">
                                                    <tr>
                                                        <th className="p-4">Stage</th>
                                                        <th className="p-4">User Pain</th>
                                                        <th className="p-4 text-primary">Proposed Solution</th>
                                                    </tr>
                                                </thead>
                                                <tbody className="divide-y divide-white/5">
                                                    {study.content.extendedContent.journey.map((row, idx) => (
                                                        <tr key={idx} className="hover:bg-white/5 transition-colors">
                                                            <td className="p-4 font-bold text-white">{row.stage}</td>
                                                            <td className="p-4">{row.pain}</td>
                                                            <td className="p-4 text-white">{row.solution}</td>
                                                        </tr>
                                                    ))}
                                                </tbody>
                                            </table>
                                        </div>
                                    </section>
                                </>
                            )}

                            {/* Solution Features */}
                            <section>
                                <h2 className="text-2xl font-bold mb-6 text-white flex items-center gap-3"><span className="text-primary">05.</span> The Solution</h2>
                                <p className="text-gray-400 mb-8 italic border-l-2 border-white/20 pl-4">"{study.content.solution.strategy}"</p>
                                <div className="grid md:grid-cols-3 gap-6">
                                    {study.content.solution.features.map((feat, idx) => (
                                        <div key={idx} className="p-1 rounded-xl bg-gradient-to-br from-white/10 to-transparent">
                                            <div className="bg-darker p-6 rounded-lg h-full">
                                                <div className="mb-4 text-primary"><Icon name="check-circle" size={20} /></div>
                                                <h4 className="font-bold text-white mb-2">{feat.name}</h4>
                                                <p className="text-sm text-gray-400">{feat.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* Impact Stats */}
                            <section className="bg-gradient-to-r from-primary/10 to-secondary/10 p-10 rounded-3xl border border-white/10 text-center">
                                <h2 className="text-2xl font-bold mb-8 text-white">Projected Business Impact</h2>
                                <div className="grid md:grid-cols-3 gap-8">
                                    {study.content.impact.map((imp, i) => (
                                        <div key={i}>
                                            <div className="text-4xl md:text-5xl font-display font-bold text-white mb-2">{imp.change}</div>
                                            <div className="text-xs md:text-sm text-primary uppercase tracking-widest font-bold">{imp.metric}</div>
                                        </div>
                                    ))}
                                </div>
                            </section>
                        </div>
                    </div>

                    {/* NEW: Sticky Bottom "View Full Case Study" Bar */}
                    {study.fullCaseStudyUrl && (
                        <motion.div 
                            initial={{ y: 100, opacity: 0 }}
                            animate={{ y: 0, opacity: 1 }}
                            transition={{ delay: 0.5, type: "spring", stiffness: 100 }}
                            className="fixed bottom-6 left-0 right-0 z-50 flex justify-center px-4"
                        >
                            <a 
                                href={study.fullCaseStudyUrl} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="glass-panel px-6 py-3 rounded-full flex items-center gap-4 bg-black/80 backdrop-blur-xl border border-primary/30 hover:border-primary shadow-[0_0_30px_rgba(0,0,0,0.5)] transition-all group hover:scale-105"
                            >
                                <div className="flex flex-col items-start">
                                    <span className="text-[10px] text-primary font-mono uppercase tracking-widest font-bold">Deep Dive</span>
                                    <span className="text-sm font-bold text-white group-hover:text-primary transition-colors">View Full Case Study Including Research</span>
                                </div>
                                <div className="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-primary group-hover:text-black transition-all duration-300">
                                    <Icon name="external-link" size={18} />
                                </div>
                            </a>
                        </motion.div>
                    )}
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('home');
            const [selectedStudy, setSelectedStudy] = useState(null);
            const [activeSection, setActiveSection] = useState('home');

            // Scroll Spy Logic
            useEffect(() => {
                const handleScroll = () => {
                    const sections = ['home', 'work', 'process', 'ai-lab', 'about'];
                    const scrollPos = window.scrollY + 300; // Offset

                    for (const section of sections) {
                        const el = document.getElementById(section);
                        if (el && el.offsetTop <= scrollPos && (el.offsetTop + el.offsetHeight) > scrollPos) {
                            setActiveSection(section);
                        }
                    }
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            useEffect(() => {
               // Removed global lucide call to prevent DOM conflicts
            }, [view, selectedStudy]);

            return (
                <div className="min-h-screen text-textMain">
                    {view === 'home' && (
                        <>
                            <Navbar activeSection={activeSection} />
                            <Hero />
                            <TrustedBy />
                            <CaseStudies onSelect={(s) => { setSelectedStudy(s); setView('detail'); }} />
                            <Process />
                            <AILab />
                            <About />
                            <Footer />
                        </>
                    )}
                    {view === 'detail' && selectedStudy && (
                        <CaseStudyDetail study={selectedStudy} onBack={() => { setView('home'); setSelectedStudy(null); }} />
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>